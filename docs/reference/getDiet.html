<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get diet of predator at size, resolved by prey species — getDiet • mizerMR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Get diet of predator at size, resolved by prey species — getDiet"><meta property="og:description" content="Calculates the rate at which a predator of a particular species and size
consumes biomass of each prey species and resource.
The diet has units of grams/year."><meta property="og:image" content="https://sizespectrum.org/mizerMR/reference/figures/logo.png"><meta property="og:image:alt" content="mizerMR: Multiple size-structured resources in mizer"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@mizer_model"><meta name="twitter:site" content="@mizer_model"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mizerMR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://blog.mizer.sizespectrum.org" class="external-link">Blog</a>
</li>
<li>
  <a href="https://twitter.com/mizer_model" class="external-link">
    <span class="fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/sizespectrum/mizerMR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get diet of predator at size, resolved by prey species</h1>
    <small class="dont-index">Source: <a href="https://github.com/sizespectrum/mizerMR/blob/HEAD/R/diet.R" class="external-link"><code>R/diet.R</code></a></small>
    <div class="hidden name"><code>getDiet.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculates the rate at which a predator of a particular species and size
consumes biomass of each prey species and resource.
The diet has units of grams/year.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">getDiet</span><span class="op">(</span></span>
<span>  <span class="va">params</span>,</span>
<span>  n <span class="op">=</span> <span class="fu"><a href="https://sizespectrum.org/mizer/reference/initialN-set.html" class="external-link">initialN</a></span><span class="op">(</span><span class="va">params</span><span class="op">)</span>,</span>
<span>  n_pp <span class="op">=</span> <span class="fu"><a href="setMultipleResources.html">initialNResource</a></span><span class="op">(</span><span class="va">params</span><span class="op">)</span>,</span>
<span>  n_other <span class="op">=</span> <span class="fu"><a href="https://sizespectrum.org/mizer/reference/initialNOther-set.html" class="external-link">initialNOther</a></span><span class="op">(</span><span class="va">params</span><span class="op">)</span>,</span>
<span>  proportion <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>params</dt>
<dd><p>A <a href="https://sizespectrum.org/mizer/reference/MizerParams-class.html" class="external-link">MizerParams</a> object</p></dd>


<dt>n</dt>
<dd><p>A matrix of species abundances (species x size).</p></dd>


<dt>n_pp</dt>
<dd><p>A vector of the resource abundance by size</p></dd>


<dt>n_other</dt>
<dd><p>A list of abundances for other dynamical components of the</p></dd>


<dt>proportion</dt>
<dd><p>If TRUE (default) the function returns the diet as a
proportion of the total consumption rate. If FALSE it returns the
consumption rate in grams per year.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An array (predator species  x predator size x
(prey species + resource + other components) )</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Returns the rates \(D_{ij}(w)\) at which a predator of species \(i\)
and size \(w\) consumes biomass from prey species \(j\). This is
calculated from the predation kernel \(\phi_i(w, w_p)\),
the search volume \(\gamma_i(w)\), the feeding level \(f_i(w)\), the
species interaction matrix \(\theta_{ij}\) and the prey abundance density
\(N_j(w_p)\):
$$
D_{ij}(w, w_p) = (1-f_i(w)) \gamma_i(w) \theta_{ij}
\int N_j(w_p) \phi_i(w, w_p) w_p dw_p.
$$
The prey index \(j\) runs over all species and the resource. It also runs
over any extra ecosystem components in your model for which you have
defined an encounter rate function. This encounter rate is multiplied by
\(1-f_i(w)\) to give the rate of consumption of biomass from these extra
components.</p>
<p>This function performs the same integration as
<code><a href="https://sizespectrum.org/mizer/reference/getEncounter.html" class="external-link">getEncounter()</a></code> but does not aggregate over prey species, and
multiplies by \(1-f_i(w)\) to get the consumed biomass rather than the
available biomass. Outside the range of sizes for a predator species the
returned rate is zero.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="plotDiet.html">plotDiet()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">diet</span> <span class="op">&lt;-</span> <span class="fu">getDiet</span><span class="op">(</span><span class="va">NS_params</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">diet</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  num [1:12, 1:100, 1:13] 8.94e-18 6.86e-19 3.46e-18 1.75e-09 1.12e-17 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - attr(*, "dimnames")=List of 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ predator: chr [1:12] "Sprat" "Sandeel" "N.pout" "Herring" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ w       : chr [1:100] "0.001" "0.00119" "0.00142" "0.0017" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ prey    : chr [1:13] "Sprat" "Sandeel" "N.pout" "Herring" ...</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://www.york.ac.uk/maths/staff/gustav-delius/" class="external-link">Gustav Delius</a>, Romain Forestier.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

